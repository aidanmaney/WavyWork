[[extend 'layout.html']]

<style>
   [v-cloak] {
        display: none;
   }
</style>


<div class="section" id="vue-target" v-cloak>
   <button class="button is-success is-outlined" v-if="!is_adding_task" @click="add_task">
      <span class="icon is-small">
        <i class="fa fa-check "></i>
      </span>
      <span>Add Task</span>
    </button>

    <div class="section" v-if="is_adding_task">
      <input class="input" type="text" placeholder="Task Label" v-model="task_label">
      <textarea class="textarea" placeholder="Task Description" v-model="task_description"></textarea>
      <input class="input" type="text" placeholder="Task Start Time" v-model="task_start_time">
      <input class="input" type="text" placeholder="Task End Time" v-model="task_end_time">

      <div class="dropdown is-hoverable">
         <div class="dropdown-trigger">
           <button class="button" 
                   onclick="javascript:document.querySelector('.dropdown').classList.toggle('is-active')" 
                   onblur="javascript:document.querySelector('.dropdown').classList.toggle('is-active')"
                   aria-haspopup="true" aria-controls="dropdown-menu">
             <span>Category</span>
             <span class="icon is-small">
               <i class="fa fa-angle-down" aria-hidden="true"></i>
             </span>
           </button>
         </div>
         <div class="dropdown-menu" id="dropdown-menu" role="menu">
           <div class="dropdown-content">
             <a onmousedown="app.vue.task_category = 'school'; console.log('School');" href="javascript:void(0);" class="dropdown-item">
               School
             </a>
             <a onmousedown="app.vue.task_category = 'work'; console.log('Work');" href="javascript:void(0);" class="dropdown-item">
               Work
             </a>
             <a onmousedown="app.vue.task_category = 'personal'; console.log('Personal');" href="javascript:void(0);" class="dropdown-item">
               Personal
             </a>
           </div>
         </div>
       </div>

       <button class="button is-success is-outlined" @click="submit_task">
         <span class="icon is-small">
           <i class="fa fa-check "></i>
         </span>
         <span>Submit Task</span>
       </button>

    </div>
</div>

[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let add_task_url = "[[=XML(add_task_url)]]";
</script>

<script src="js/index.js"></script>
[[end]]